{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Landing v1 (content-only)",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "replace": { "type": "boolean" },
    "seo": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "title": { "type": "string", "maxLength": 70 },
        "description": { "type": "string", "maxLength": 160 }
      }
    },
    "sections": {
      "type": "array",
      "minItems": 1,
      "items": { "$ref": "#/$defs/section" }
    }
  },
  "required": ["sections"],
  "$defs": {
    "button": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "label": { "type": "string", "minLength": 1, "maxLength": 40 },
        "href": { "type": "string", "format": "uri-reference" }
      },
      "required": ["label", "href"]
    },
    "media": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "type": { "type": "string", "enum": ["image","video"] },
        "url": { "type": "string", "format": "uri-reference" },
        "alt": { "type": "string" }
      },
      "required": ["type","url"]
    },
    "sectionBase": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "schema_version": { "const": 1 },
        "type": { "type": "string" },
        "eyebrow": { "type": "string", "maxLength": 80 },
        "heading": { "type": "string", "maxLength": 140 },
        "subheading": { "type": "string", "maxLength": 240 },
        "richText": { "type": "string", "maxLength": 4000 },
        "media": { "type": "array", "items": { "$ref": "#/$defs/media" } },
        "actions": { "type": "array", "items": { "$ref": "#/$defs/button" }, "maxItems": 4 },
        "data": { "type": "object" }
      },
      "required": ["schema_version","type"]
    },
    "section": {
      "allOf": [
        { "$ref": "#/$defs/sectionBase" },
        {
          "oneOf": [
            { "$ref": "#/$defs/section.NavBar" },
            { "$ref": "#/$defs/section.Hero" },
            { "$ref": "#/$defs/section.Intro" },
            { "$ref": "#/$defs/section.Grid" },
            { "$ref": "#/$defs/section.FeatureList" },
            { "$ref": "#/$defs/section.Accordion" },
            { "$ref": "#/$defs/section.Plans" },
            { "$ref": "#/$defs/section.HeroOverlay" },
            { "$ref": "#/$defs/section.SocialGallery" },
            { "$ref": "#/$defs/section.Footer" }
          ]
        }
      ]
    },

    "section.NavBar": {
      "properties": {
        "type": { "const": "NavBar" },
        "data": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "brand": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "text": { "type": "string", "minLength": 1, "maxLength": 40 },
                "href": { "type": "string", "format": "uri-reference" }
              },
              "required": ["text","href"]
            },
            "linksLeft": { "type": "array", "items": { "$ref": "#/$defs/button" } },
            "linksRight": { "type": "array", "items": { "$ref": "#/$defs/button" } }
          }
        }
      }
    },

    "section.Hero": {
      "properties": {
        "type": { "const": "Hero" },
        "media": { "type": "array", "minItems": 1, "items": { "$ref": "#/$defs/media" } },
        "data": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "rotatingWords": { "type": "array", "maxItems": 8, "items": { "type": "string", "maxLength": 24 } }
          }
        }
      },
      "required": ["media"]
    },

    "section.Intro": {
      "properties": {
        "type": { "const": "Intro" }
      }
    },

    "section.Grid": {
      "properties": {
        "type": { "const": "Grid" },
        "data": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "items": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "title": { "type": "string", "maxLength": 60 },
                  "description": { "type": "string", "maxLength": 600 },
                  "image": { "type": "string", "format": "uri-reference" },
                  "imageAlt": { "type": "string" },
                  "media": { "type": "array", "items": { "$ref": "#/$defs/media" } },
                  "badge": { "type": "string", "maxLength": 10 },
                  "actions": { "type": "array", "items": { "$ref": "#/$defs/button" }, "maxItems": 2 }
                },
                "required": ["title"]
              }
            }
          },
          "required": ["items"]
        }
      }
    },

    "section.FeatureList": {
      "properties": {
        "type": { "const": "FeatureList" },
        "data": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "items": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "icon": { "type": "string" },
                  "title": { "type": "string" },
                  "body": { "type": "string" }
                },
                "required": ["title","body"]
              }
            }
          },
          "required": ["items"]
        }
      }
    },

    "section.Accordion": {
      "properties": {
        "type": { "const": "Accordion" },
        "data": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "sideImage": { "$ref": "#/$defs/media" },
            "items": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "title": { "type": "string" },
                  "description": { "type": "string" },
                  "bullets": { "type": "array", "items": { "type": "string" } },
                  "actions": { "type": "array", "items": { "$ref": "#/$defs/button" }, "maxItems": 1 }
                },
                "required": ["title","description"]
              }
            }
          },
          "required": ["items"]
        }
      }
    },

    "section.Plans": {
      "properties": {
        "type": { "const": "Plans" },
        "data": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "items": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "badge": { "type": "string", "maxLength": 10 },
                  "title": { "type": "string" },
                  "description": { "type": "string" },
                  "image": { "type": "string", "format": "uri-reference" },
                  "imageAlt": { "type": "string" },
                  "actions": { "type": "array", "items": { "$ref": "#/$defs/button" }, "maxItems": 1 }
                },
                "required": ["title","description"]
              }
            }
          },
          "required": ["items"]
        }
      }
    },

    "section.HeroOverlay": {
      "properties": {
        "type": { "const": "HeroOverlay" },
        "media": { "type": "array", "minItems": 1, "items": { "$ref": "#/$defs/media" } },
        "data": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "rotatingWords": { "type": "array", "maxItems": 8, "items": { "type": "string", "maxLength": 24 } }
          }
        }
      },
      "required": ["media"]
    },

    "section.SocialGallery": {
      "properties": {
        "type": { "const": "SocialGallery" },
        "data": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "heading": { "type": "string" },
            "handle": { "type": "string" },
            "profileUrl": { "type": "string", "format": "uri-reference" },
            "source": { "type": "string", "enum": ["manual","instagram","cms"] },
            "images": { "type": "array", "minItems": 1, "items": { "$ref": "#/$defs/media" } }
          }
        }
      }
    },

    "section.Footer": {
      "properties": {
        "type": { "const": "Footer" },
        "data": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "title": { "type": "string" },
            "contact": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "heading": { "type": "string" },
                "addressLines": { "type": "array", "items": { "type": "string" } },
                "email": { "type": "string" },
                "emailHref": { "type": "string", "format": "uri-reference" },
                "phone": { "type": "string" },
                "phoneHref": { "type": "string", "format": "uri-reference" }
              }
            },
            "groups": {
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "heading": { "type": "string" },
                  "links": { "type": "array", "items": { "$ref": "#/$defs/button" } }
                }
              }
            },
            "newsletter": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "heading": { "type": "string" },
                "subtext": { "type": "string" },
                "action": { "type": "string" },
                "placeholder": { "type": "string" },
                "submitHref": { "type": "string", "format": "uri-reference" }
              }
            },
            "bottomBar": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "leftNote": { "type": "string" },
                "legalLinks": { "type": "array", "items": { "$ref": "#/$defs/button" } },
                "copyright": { "type": "string", "maxLength": 160 }
              }
            }
          }
        }
      }
    }
  }
}

