{% extends "base.html" %}
{% set hide_navbar = true %}
{% set hide_footer = true %}
{% block title %}Sign in · Latente CMS{% endblock %}
{% block body_class %}auth{% endblock %}

{% block extra_head %}
<style>
  /* ---------------------------
     Login — Calm, pastel, refined
     --------------------------- */
  :root{
    --auth-bg: var(--bg);
    --auth-surface: var(--surface);
    --auth-border: var(--border);
    --auth-text-1: var(--text-1);
    --auth-text-2: var(--text-2);
    --auth-radius: var(--radius-lg);
    --auth-focus: rgba(110,158,230,.18);

    /* CTA gradients */
    --grad-cta-base: linear-gradient(135deg, #a9c7ff 0%, #d3e8ff 100%); /* lighter */
    --grad-cta-fill: linear-gradient(135deg, #6e9ee6 0%, #89c2d9 100%); /* darker */
  }

  .z2h-auth-wrap{
    min-height: 100vh;
    display: grid;
    place-items: center;
    padding: 36px 16px;
    background: var(--auth-bg);
  }

  .z2h-auth-head{
    text-align: center;
    margin-bottom: 16px;
  }
  .z2h-auth-head .z2h-title{
    margin: 0;
    font-weight: 500;
    letter-spacing: .05em;
    color: var(--auth-text-1);
    font-size: 1.65rem;
  }

  .z2h-auth-card{
    width: 100%;
    max-width: 520px;
    background: var(--auth-surface);
    border: 1px solid var(--auth-border);
    border-radius: var(--auth-radius);
    box-shadow: 0 12px 28px rgba(0,0,0,.06);
    padding: clamp(24px, 4vw, 36px);
  }

  .z2h-auth-title{
    margin: 0 0 .25rem 0;
    font-weight: 700;
    letter-spacing: .04em;
    color: var(--auth-text-1);
    font-size: 1.1rem;
  }
  .z2h-auth-sub{ color: var(--auth-text-2); }

  .z2h-field { margin-bottom: 1rem; }
  .z2h-label{
    display:block; margin-bottom: .42rem;
    font-weight: 600; color: var(--auth-text-1);
  }
  .z2h-input{
    height: 48px;
    padding: .6rem .8rem;
    border-radius: 12px;
    border: 1px solid var(--auth-border);
    background: #fff;
    color: var(--auth-text-1);
    transition:
      background-color .36s ease,
      border-color .36s ease,
      box-shadow .36s ease,
      color .36s ease;
  }
  .z2h-input::placeholder{ color: #9aa3ad; }
  .z2h-input:hover{ background: #fff; border-color: #e2e8f0; }
  .z2h-input:focus{
    outline: none;
    border-color: #bcd6ff;
    box-shadow: 0 0 0 .22rem var(--auth-focus);
  }
  .z2h-input.is-invalid{
    border-color:#ef4444 !important;
    box-shadow: 0 0 0 .18rem rgba(239,68,68,.14) !important;
  }

  /* CTA — smaller, lighter base; darker fill; slower wave */
  .z2h-cta{
    position: relative;
    overflow: hidden;
    border-radius: 12px;
    font-weight: 700;
    border: 1px solid #9fc1ff;            /* lighter border */
    color: #0d2347;                        /* readable on the light base */
    background: var(--grad-cta-base);      /* lighter static base */
    box-shadow: 0 10px 22px rgba(110,158,230,.12);
    transition: color .36s ease, box-shadow .48s ease;
    /* Smaller sizing */
    font-size: .95rem;
    padding: .62rem 1rem;
  }
  .z2h-cta > span{ position: relative; z-index: 2; }

  /* Layer 1: DARKER fill slides in from left (slower = 2x duration) */
  .z2h-cta::before{
    content:"";
    position:absolute; inset:0;
    background: var(--grad-cta-fill);
    transform: translateX(-100%);
    transition: transform 2.2s cubic-bezier(.22,.61,.36,1); /* was 1.1s */
    z-index:1;
  }

  /* Layer 2: soft wave edge—also slower */
  .z2h-cta::after{
    content:"";
    position:absolute; inset:0;
    background:
      radial-gradient(28px 12px at 24px 50%, rgba(255,255,255,.22) 48%, transparent 52%) repeat-x,
      radial-gradient(28px 12px at 12px 50%, rgba(255,255,255,.14) 48%, transparent 52%) repeat-x;
    background-size: 56px 100%, 56px 100%;
    background-position: 0 0, 0 0;
    opacity: .26;
    transform: translateX(-100%);
    transition: transform 2.7s cubic-bezier(.22,.61,.36,1); /* was 1.35s */
    z-index:1;
    mix-blend-mode: soft-light;
    pointer-events: none;
  }

  .z2h-cta:hover{ box-shadow: 0 12px 26px rgba(110,158,230,.16); }
  .z2h-cta:hover::before{ transform: translateX(0); }
  .z2h-cta:hover::after{ transform: translateX(0); }
  .z2h-cta:active{ transform: none; } /* no bounce */

  @media (prefers-reduced-motion: reduce){
    .z2h-cta::before,
    .z2h-cta::after,
    .z2h-input{
      transition: none !important;
    }
  }

  .z2h-muted{ color: var(--auth-text-2); }
</style>
{% endblock %}

{% block content %}
<section class="z2h-auth-wrap">
  <div class="z2h-auth-head">
    <h1 class="z2h-title">Latente CMS</h1>
  </div>

  <div class="z2h-auth-card">
    <h2 class="z2h-auth-title">Sign in</h2>
    <p class="z2h-auth-sub mb-4">Use your credentials to access the admin.</p>

    {% if error %}
      <div class="alert alert-danger" role="alert">{{ error }}</div>
    {% endif %}

    <form method="post" action="/login" class="z2h-auth-form" novalidate>
      <div class="z2h-field">
        <label for="email" class="z2h-label">Email</label>
        <input id="email" name="email" type="email" class="form-control z2h-input"
               placeholder="you@example.com" required autocomplete="username"
               inputmode="email" autocapitalize="off" spellcheck="false">
      </div>

      <div class="z2h-field">
        <label for="password" class="z2h-label">Password</label>
        <input id="password" name="password" type="password" class="form-control z2h-input"
               placeholder="••••••••" required autocomplete="current-password">
      </div>

      <div class="d-grid">
        <button type="submit" class="btn z2h-cta">
          <span>Sign in</span>
        </button>
      </div>
    </form>

    <div class="text-center mt-4 small z2h-muted">
      © <span id="lc-year"></span> Latente
    </div>
  </div>
</section>

<script>
  (function(){
    var el = document.getElementById('lc-year');
    if (el) el.textContent = new Date().getFullYear();
  })();
</script>
{% endblock %}










