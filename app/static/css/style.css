/* =========================================================
   Latente CMS · Admin UI — v2.1 (Pastel / Light, Calm UX)
   “Projects → Pages → Sections” friendly wording in UI.
   Changes vs 2.0:
   - No jump/bounce on cards or buttons (removed transforms)
   - Subtle, steady hovers (no shadow pop)
   - Slow page fade-in for #main-content (accessible)
   ========================================================= */

/* -------------------------
   Design tokens (pastel)
   ------------------------- */
:root{
  /* Base */
  --bg: #f7f4ef;         /* warm off-white */
  --surface: #ffffff;
  --surface-2: #f3efe9;  /* soft shell */
  --text-1: #2b2b2b;
  --text-2: #6b6b6b;
  --muted:  #8a8681;
  --border: #e6ddd2;

  /* Brand (soft, non-reddish) */
  --primary:      #6e9ee6;   /* pastel blue */
  --primary-2:    #89c2d9;   /* light aqua */
  --primary-ink:  #ffffff;
  --focus:        #cfe2ff;   /* focus ring */

  /* Accents */
  --accent-soft:  #f1f6fb;   /* very light blue */
  --accent-peach: #fde7da;   /* soft peach highlight */
  --accent-mint:  #e4f3ee;   /* subtle mint */

  /* Gradients / effects */
  --grad-1: linear-gradient(135deg, #6e9ee6 0%, #89c2d9 100%);
  --grad-soft:
    radial-gradient(900px 480px at 15% -10%, rgba(110,158,230,.10), transparent 60%),
    radial-gradient(700px 400px at 85% -5%, rgba(137,194,217,.10), transparent 55%);

  /* Radii & Shadows */
  --radius: 12px;
  --radius-sm: 8px;
  --radius-lg: 18px;
  --shadow-sm: 0 2px 4px rgba(0,0,0,.05), 0 1px 2px rgba(0,0,0,.03);
  --shadow-md: 0 12px 28px rgba(0,0,0,.08);

  /* Typography */
  --font-sans: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;

  /* Editor tokens */
  --field-gap: .75rem;
  --panel-gap: 1rem;
  --sidebar-w: 280px;
  --thumb: #d7e4fb;
  --danger: #ef4444;
  --ok: #16a34a;
  --warn: #f59e0b;
}

/* -------------------------
   Base / reset
   ------------------------- */
*{ box-sizing: border-box; }
html{ scroll-behavior: smooth; }
body.z2h-body{
  margin:0; background: var(--bg); color: var(--text-1);
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}
.container{ max-width: 1140px; }

/* Selection & links */
::selection{ background: rgba(110,158,230,.22); }
a{ color: var(--primary); text-decoration: none; transition: color .18s ease; }
a:hover{ color: #4f79b8; }

/* -------------------------
   Navbar
   ------------------------- */
.z2h-nav{
  position: sticky; top: 0; z-index: 1030;
  background: rgba(255,255,255,.9);
  backdrop-filter: saturate(160%) blur(10px);
  border-bottom: 1px solid var(--border);
  box-shadow: var(--shadow-sm);
}
.z2h-nav .container{ padding: .55rem 1rem; }
.z2h-brand--badge{
  padding:.2rem .6rem; border-radius:999px; background:#f7f5f0;
  border:1px solid var(--border); color:var(--text-2); font-size:.72rem; letter-spacing:.1em;
}
.navbar .nav-link{
  position: relative; padding: .55rem .7rem; margin: 0 .1rem;
  color: var(--text-2); font-weight: 600; border-radius: 9px;
  transition: color .18s ease, background-color .18s ease;
}
.navbar .nav-link::after{
  content:""; position:absolute; left:.7rem; right:.7rem; bottom:.25rem; height:2px;
  background: rgba(110,158,230,.6); border-radius:2px; transform:scaleX(0); transform-origin:left;
  transition: transform .18s ease;
}
.navbar .nav-link:hover{ color: var(--text-1); background: rgba(110,158,230,.06); }
.navbar .nav-link:hover::after,
.navbar .nav-link.active::after{ transform: scaleX(1); }

/* Right controls */
.z2h-select{ background:#faf9f7; border:1px solid var(--border); }
.btn.btn-outline{ border:1px solid var(--border); background:#fff; }

/* -------------------------
   Cards / surfaces  (NO JUMP, NO SHADOW POP)
   ------------------------- */
.card{
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  /* fixed calm shadow; does not change on hover */
  box-shadow: var(--shadow-sm);
  /* remove transform/shadow transitions to avoid “pop” */
  transition: background-color .28s ease, border-color .28s ease;
}
/* No hover transform or shadow swap */
.z2h-card{ border-radius: 16px; }

/* Soft divider */
.z2h-divider{
  width:100%; height:1px;
  background: linear-gradient(90deg, rgba(0,0,0,0), rgba(0,0,0,.12), rgba(0,0,0,0));
  opacity:.5;
}

/* -------------------------
   Buttons  (calm, no bounce)
   ------------------------- */
.btn{
  border-radius: var(--radius);
  padding:.62rem 1rem;
  font-weight:700; letter-spacing:.06em; text-transform: uppercase;
  transition:
    background-color .28s ease,
    border-color .28s ease,
    color .28s ease,
    filter .28s ease,
    box-shadow .28s ease;
}
.btn:active{ transform: none; } /* kill press nudge */

.btn-primary{
  background: var(--grad-1);
  color: var(--primary-ink);
  border: 1px solid #6e9ee6;
  box-shadow: 0 10px 24px rgba(110,158,230,.18);
}
.btn-primary:hover{ filter: brightness(1.03); }
.btn-primary:focus{ outline: none; box-shadow: 0 0 0 .22rem var(--focus); }

.btn-outline{
  background: transparent;
  color: var(--text-1);
  border: 1px solid var(--border);
}
.btn-outline:hover{
  background: var(--accent-soft);
  border-color: var(--accent-soft);
  color:#0b0b0b;
}
.btn-outline:focus{ outline: none; box-shadow: 0 0 0 .22rem var(--focus); }

/* CTA brand */
.btn-cta{
  background: var(--grad-1);
  color: var(--primary-ink);
  border: 1px solid #6e9ee6;
  box-shadow: 0 10px 24px rgba(110,158,230,.18);
}
.btn-cta:hover{ filter: brightness(1.03); }
.btn-cta:focus{ outline:none; box-shadow: 0 0 0 .22rem var(--focus); }
.btn-cta:disabled,
.btn-cta[disabled]{ opacity:.6; cursor:not-allowed; }

/* Subtle brand outline */
.btn-owa-outline{
  background: transparent;
  color: var(--primary);
  border: 1px solid var(--primary);
}
.btn-owa-outline:hover{
  background: rgba(110,158,230,.08);
  border-color: var(--primary);
  color: var(--primary);
}
.btn-owa-outline:focus{ outline:none; box-shadow: 0 0 0 .22rem var(--focus); }
.btn-owa-outline:disabled,
.btn-owa-outline[disabled]{ opacity:.55; cursor:not-allowed; }

/* Utility badge (status, project, etc.) */
.z2h-badge{
  display:inline-block;
  background:#f0f6ff;
  color: #4f79b8;
  border:1px solid #d8e6fb;
  border-radius: 999px;
  padding: .18rem .5rem;
  font-size: .72rem;
  letter-spacing: .06em;
  text-transform: uppercase;
}

/* -------------------------
   Forms
   ------------------------- */
.form-control{
  border-radius: 10px;
  border: 1px solid var(--border);
  background: #fff; color: var(--text-1);
  padding: .6rem .75rem;
}
.form-control:focus{
  outline: none;
  border-color: #a9c7ff;
  box-shadow: 0 0 0 .2rem rgba(169,199,255,.35);
}
label.form-label{ font-weight: 600; color: var(--text-1); }

/* -------------------------
   Auth
   ------------------------- */
/* Note: login page now carries its own inline styles.
   Keep this as a neutral baseline for other auth views. */
.z2h-auth-wrap{
  min-height: calc(100vh - 56px);
  display: grid; align-items: center;
  padding: 2rem 0;
  background: var(--grad-soft);
}
.z2h-auth-form .form-control{ border-radius: 10px; }
.z2h-auth-form .btn-lg{ border-radius: 12px; }
.text-muted{ color: var(--text-2) !important; }
.small code{ background: #f0f6ff; padding:.1rem .3rem; border-radius:6px; border:1px solid #d8e6fb; }

/* -------------------------
   Dashboard (light)
   ------------------------- */
.z2h-dash-hero{
  background: linear-gradient(180deg, #ffffff 0%, #f7f5f0 100%);
  color:#2b2b2b;
  border:1px solid var(--border);
  border-radius: 18px;
  overflow: hidden; position: relative; isolation: isolate;
  box-shadow: 0 18px 40px rgba(0,0,0,.06);
}
.z2h-dash-hero::before{
  content:""; position:absolute; inset:-20% -20% auto -20%; height:70%;
  background: var(--grad-soft);
  filter: blur(16px); opacity:.9; z-index:0;
}
.z2h-dash-hero .z2h-hero-title{
  position:relative; z-index:1; letter-spacing:.14em; text-transform: uppercase;
}
.z2h-dash-hero .lead{ position:relative; z-index:1; color: rgba(0,0,0,.66); }
.z2h-dash-hero .btn{ position:relative; z-index:1; }

/* KPIs */
.z2h-kpis{
  display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:1rem;
}
.z2h-kpi{
  background: #fff; border:1px solid var(--border);
  border-radius: 16px; padding: 1rem 1.1rem;
  /* fixed, calm shadow */
  box-shadow: 0 6px 18px rgba(0,0,0,.05);
  transition: background-color .28s ease, border-color .28s ease;
}
.z2h-kpi .z2h-kpi-label{
  font-size:.78rem; color:#7a8697; letter-spacing:.12em;
  text-transform: uppercase; margin-bottom:.25rem;
}
.z2h-kpi .z2h-kpi-value{
  display:flex; align-items:baseline; gap:.35rem;
  font-weight:900; line-height:1;
  font-size: clamp(1.6rem, 2.2vw, 2.1rem);
  color:#1f2937;
}
.z2h-kpi .z2h-kpi-suffix{
  font-size:.85rem; color:#8b96a5; font-weight:700; letter-spacing:.08em;
}

/* Lists / rails */
.z2h-card-list{ display:flex; flex-direction:column; gap:.5rem; }
.z2h-list-item{
  display:grid; grid-template-columns:1fr auto; align-items:center; gap:1rem;
  padding:.8rem .5rem .8rem 0; border-top:1px dashed var(--border);
  transition: background-color .36s ease; /* calm */
}
.z2h-list-item:first-child{ border-top:0; }

.z2h-list-title{ font-weight:800; color:var(--text-1); }
.z2h-list-sub{ font-size:.92rem; color:var(--text-2); }

/* Empty states */
.z2h-empty{
  background: var(--surface-2);
  border: 1px dashed var(--border);
  color: var(--text-2);
  padding: 1.25rem; border-radius: var(--radius);
}

/* Footer */
.z2h-footer{
  border-top:1px solid var(--border);
  padding: 1.1rem 0;
  color: var(--muted);
  background: rgba(255,255,255,.7);
  backdrop-filter: blur(6px);
}
.z2h-footer a{ color: inherit; }
.z2h-footer a:hover{ text-decoration: underline; }

/* Responsive */
@media (max-width: 991.98px){
  .z2h-kpis{ grid-template-columns: 1fr 1fr 1fr; }
}
@media (max-width: 575.98px){
  .z2h-kpis{ grid-template-columns: 1fr 1fr; }
}

/* ====== Latente CMS · Editor UX Pro (add-on) ====== */
.vr{ width:1px; height:14px; background: var(--border,#e6ddd2); display:inline-block; }
kbd{ background:#eef2ff; border:1px solid #dbe4ff; border-bottom-color:#c7d2fe; padding:.05rem .35rem; border-radius:6px; font-size:.82rem; }
.list-group-item:focus { outline: none; box-shadow: inset 0 0 0 2px rgba(169,199,255,.5); }
.is-invalid{ border-color:#ef4444 !important; box-shadow: 0 0 0 .18rem rgba(239,68,68,.16) !important; }

/* -------------------------
   Page entrance (slow, elegant)
   ------------------------- */
#main-content{
  opacity: 0;
  animation: z2hFadeIn .9s ease-out .05s both;
}
#main-content.no-entrance{ animation: none; opacity: 1; }

@keyframes z2hFadeIn{
  from{ opacity: 0; }
  to  { opacity: 1; }
}

/* Accessibility: respect reduced motion */
@media (prefers-reduced-motion: reduce){
  #main-content{ animation: none; opacity: 1; }
}

/* ===== Overrides: Pages list — no color on hover ===== */
.z2h-card-list .z2h-list-item,
.z2h-card-list .z2h-list-item:hover{
  background: transparent !important;
}

/* Keep link color neutral inside rows */
.z2h-card-list .z2h-list-item a{
  color: var(--text-1) !important;
  text-decoration: none;
  transition: opacity .28s ease;
}
.z2h-card-list .z2h-list-item a:hover{
  color: var(--text-1) !important;
  opacity: .9; /* tiny cue only */
}

/* Optional: subtle left guide line (no fill) */
.z2h-card-list .z2h-list-item{ position: relative; }
.z2h-card-list .z2h-list-item::before{
  content:"";
  position:absolute; left:0; top:0; bottom:0; width:3px;
  background: linear-gradient(180deg, rgba(110,158,230,.25), rgba(137,194,217,.15));
  opacity:0; transform: translateX(-2px);
  transition: opacity .35s ease, transform .35s ease;
}
.z2h-card-list .z2h-list-item:hover::before{
  opacity:1; transform: translateX(0);
}

/* Kill the left guideline on pages list rows */
.z2h-card-list .z2h-list-item::before{
  content: none !important;
  display: none !important;
}

/* =========================================================
   Editor Neutral Utilities (generic, non-tenant specific)
   ========================================================= */

/* Layout shell for editor pages (optional, generic) */
.z2h-editor{
  display: grid;
  grid-template-columns: minmax(240px, var(--sidebar-w)) 1fr;
  gap: var(--panel-gap);
}
@media (max-width: 991.98px){
  .z2h-editor{
    grid-template-columns: 1fr;
  }
}

/* Sidebar (sections list) */
.z2h-sections-nav{
  position: sticky; top: 88px;
  border: 1px solid var(--border);
  background: var(--surface);
  border-radius: var(--radius);
  padding: .75rem;
  box-shadow: var(--shadow-sm);
}
.z2h-sections-nav .nav-item{
  display:flex; align-items:center; gap:.5rem;
  padding:.5rem .6rem; border-radius: 10px;
  color: var(--text-2);
  transition: background-color .2s ease, color .2s ease;
}
.z2h-sections-nav .nav-item:hover{ background: rgba(110,158,230,.06); color: var(--text-1); }
.z2h-sections-nav .nav-item.active{
  background: var(--accent-soft);
  color: #14233f; font-weight: 700;
  border: 1px solid #e4efff;
}

/* Content panel */
.z2h-editor-panel{
  border: 1px solid var(--border);
  background: var(--surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
}

/* Field groups / rows */
.field-group{
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--field-gap);
  padding: 1rem;
  border-top: 1px dashed var(--border);
}
.field-group:first-child{ border-top: none; }
.field-row{
  display: grid; gap: .75rem;
}
.field-row[data-columns="2"]{ grid-template-columns: 1fr 1fr; }
.field-row[data-columns="3"]{ grid-template-columns: 1fr 1fr 1fr; }
@media (max-width: 767.98px){
  .field-row,[data-columns]{
    grid-template-columns: 1fr !important;
  }
}

/* Widget-agnostic field chrome */
.field{
  display:flex; flex-direction: column; gap:.35rem;
}
.field .form-label{
  font-weight: 700; font-size: .92rem; color: #1e293b;
}
.field .form-hint{
  color: var(--text-2); font-size: .85rem;
}

/* Textareas: sensible heights */
textarea.form-control{ min-height: 85px; resize: vertical; }
.textarea-md{ min-height: 140px !important; }
.textarea-lg{ min-height: 220px !important; }
.textarea-xl{ min-height: 320px !important; }

/* Generic mapping by data-widget (does NOT depend on block names) */
[data-widget="textarea"] textarea{ min-height: 160px; }
[data-widget="textarea-lg"] textarea{ min-height: 240px; }
[data-widget="textarea-xl"] textarea{ min-height: 320px; }
[data-widget="switch"] .form-check-input{
  width: 2.4rem; height: 1.3rem; cursor: pointer;
}
[data-widget="number"] input{ text-align: left; }

/* Repeater (arrays) */
.z2h-repeater{
  display:flex; flex-direction: column; gap: .75rem;
}
.repeater-item{
  border:1px solid var(--border);
  border-radius: 12px;
  background:#fff;
  padding:.85rem;
  box-shadow: var(--shadow-sm);
}
.repeater-item .repeater-head{
  display:flex; align-items:center; justify-content:space-between; gap:.5rem;
  margin-bottom: .5rem;
}
.repeater-item .repeater-title{
  font-weight:800; font-size:.92rem; color:#1f2937;
}
.repeater-item .repeater-actions{
  display:flex; gap:.5rem; align-items:center;
}
.repeater-item .repeater-actions .btn{
  padding:.4rem .6rem; font-size:.78rem; letter-spacing:.04em;
}

/* Repeater grid helpers (cards inside arrays) */
.repeater-grid{
  display:grid; gap:.75rem;
  grid-template-columns: repeat(2, minmax(0,1fr));
}
@media (max-width: 991.98px){
  .repeater-grid{ grid-template-columns: 1fr; }
}

/* Image helpers */
.img-thumb{
  width: 100%; max-width: 220px; aspect-ratio: 4/3;
  object-fit: cover; border-radius: 10px;
  border:1px solid var(--thumb);
  background: #f8fbff;
}
.avatar{
  width: 64px; height: 64px; object-fit: cover;
  border-radius: 999px; border:1px solid var(--thumb);
}

/* Upload button (stub) */
.btn-upload{
  display:inline-flex; align-items:center; gap:.5rem;
  border:1px dashed #bcd3ff; background:#f7faff;
  color:#36518a; padding:.45rem .8rem; border-radius:10px;
}
.btn-upload:hover{ background:#eef5ff; }

/* Inline file control (hide real input) */
.input-file{
  position: relative; display:inline-block;
}
.input-file input[type="file"]{
  position:absolute; inset:0; opacity:0; cursor:pointer;
}

/* Toolbar / page actions */
.z2h-toolbar{
  display:flex; flex-wrap: wrap; gap:.5rem;
  padding: .75rem 1rem; border-bottom:1px solid var(--border);
  position: sticky; top: 56px; background: rgba(255,255,255,.92);
  backdrop-filter: blur(8px);
  z-index: 5;
}

/* Sticky bottom actions (mobile) */
.z2h-actions-bottom{
  position: sticky; bottom: 0; z-index: 4;
  background: rgba(255,255,255,.96);
  border-top: 1px solid var(--border);
  padding: .6rem; display:flex; gap:.5rem; justify-content:flex-end; flex-wrap:wrap;
}

/* Validation & states */
.field .error-text{
  color: var(--danger); font-size: .85rem;
}
.form-control.is-valid{
  border-color: #86efac; box-shadow: 0 0 0 .18rem rgba(22,163,74,.16);
}
.form-control[readonly]{
  background:#fafafa; color:#6b7280;
}

/* Small utility chips */
.z2h-chip{
  display:inline-flex; align-items:center; gap:.4rem;
  font-size:.8rem; padding:.15rem .5rem; border-radius:999px;
  border:1px solid var(--border); background:#fff;
}
.z2h-chip.ok{ border-color:#bbf7d0; background:#f0fdf4; color:#14532d; }
.z2h-chip.warn{ border-color:#fde68a; background:#fffbeb; color:#7a5200; }

/* Simple help blocks */
.help-text{
  font-size:.86rem; color: var(--text-2);
}

/* Compact lists inside fields */
.inline-list{
  display:flex; flex-wrap:wrap; gap:.4rem;
}
.inline-list .inline-pill{
  border:1px solid var(--border); background:#fff;
  border-radius:999px; padding:.12rem .5rem; font-size:.8rem;
}

/* Section header summary (title + status + actions) */
.section-header{
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
  padding:.6rem 1rem; border-bottom:1px dashed var(--border);
}
.section-title{
  font-weight:900; letter-spacing:.04em;
}

/* Soft info block */
.note{
  border:1px dashed var(--border);
  background: var(--surface-2);
  padding:.75rem; border-radius: 10px;
  color: var(--text-2);
}

/* Keyboard helper row */
.key-row{
  display:flex; gap:.5rem; align-items:center; flex-wrap:wrap;
}
